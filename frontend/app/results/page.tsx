"use client";
import Dropdown from "@/components/Dropdown";
import { useEffect, useState } from "react";
import { useSearchParams } from "next/navigation";
import Uploadfile from "@/components/Uploadfile";

export default function Results() {
  const [file, setFile] = useState<File | null>(null);
  const [selected, setSelected] = useState("");

  const searchParams = useSearchParams()

  const confidence = searchParams.get('confidence')
  const result = searchParams.get('result')

  return (
    <>
      <div className='flex flex-wrap justify-between w-4/5'>
        <section className='w-[45%] max-md:w-full mb-10 md'>
          <h1 className='xl:text-4xl text-3xl font-semibold dark:text-white'>Deepfake Detection</h1>
          <div>
            <div className='xl:text-xl text-lg dark:text-white'>
              <br />
              Our AI detector attempted to determine the probability this audio being real is {Math.round(Number(confidence))}%.
              <br /><br />
              Potential deepfake parts are highlighted in purple in the sound wave. You can hover to the highlighted parts to see details.   
            </div>
          </div>
        </section>
        <section className='w-1/2 max-md:w-full mb-10 bg-whitehue-600 rounded-2xl dark:bg-[#565A73] p-8 shadow-2xl shadow-whitehue-800 dark:shadow-coldHeights-700 transition-colors duration-300'>
          <h3 className='text-lg dark:text-white'>Is this audio generated by AI? Check with our model.</h3>
          <p className='text-xs font-light dark:text-white'>Please upload an audio file in .wav/.flac format and choose a model for detection.</p>
          <div className='mt-5'>
            <Uploadfile file={file} setFile={setFile} />
          </div>  
        </section>
      </div>
    </>
  );
}
